# å¼€å‘æµç¨‹æ–‡æ¡£

**æœ€åæ›´æ–°**: 2026-02-25 18:00
**é€‚ç”¨ç‰ˆæœ¬**: v1.3.8+

---

## ğŸ“‹ å¼€å‘æµç¨‹æ¦‚è§ˆ

æœ¬æ–‡æ¡£è®°å½•äº†é¡¹ç›®çš„æ ‡å‡†å¼€å‘æµç¨‹ï¼Œç¡®ä¿æ¯æ¬¡å¼€å‘éƒ½éµå¾ªä¸€è‡´çš„è´¨é‡æ ‡å‡†ã€‚

---

## ğŸ”„ æ ‡å‡†å¼€å‘æµç¨‹

### Phase 1: éœ€æ±‚åˆ†æ

#### 1.1 ç†è§£éœ€æ±‚
- ä½¿ç”¨ **brainstorming skill** æ¾„æ¸…éœ€æ±‚
- ç¡®è®¤åŠŸèƒ½èŒƒå›´å’Œä¼˜å…ˆçº§
- è¯†åˆ«æŠ€æœ¯çº¦æŸ

#### 1.2 è®¾è®¡æ–¹æ¡ˆ
- æå‡º 2-3 ä¸ªæ–¹æ¡ˆé€‰é¡¹
- åˆ†ææ¯ä¸ªæ–¹æ¡ˆçš„ä¼˜ç¼ºç‚¹
- é€‰æ‹©æ¨èæ–¹æ¡ˆå¹¶è¯´æ˜åŸå› 

#### 1.3 è¾“å‡ºæ–‡æ¡£
- åˆ›å»ºè®¾è®¡æ–‡æ¡£ï¼š`docs/plans/YYYY-MM-DD-<topic>-design.md`
- è·å–ç”¨æˆ·ç¡®è®¤åå†ç»§ç»­

---

### Phase 2: è§„åˆ’å®æ–½

#### 2.1 åˆ›å»ºå®æ–½è®¡åˆ’
- ä½¿ç”¨ **writing-plans skill** åˆ›å»ºè¯¦ç»†è®¡åˆ’
- è®¡åˆ’åŒ…å«ï¼š
  - ä»»åŠ¡åˆ†è§£ï¼ˆbite-sized æ­¥éª¤ï¼‰
  - éªŒè¯æ£€æŸ¥ç‚¹
  - é¢„æœŸè¾“å‡º

#### 2.2 ä»»åŠ¡æ‹†åˆ†åŸåˆ™
- æ¯ä¸ªä»»åŠ¡ 15-30 åˆ†é’Ÿå¯å®Œæˆ
- æ¯ä¸ªä»»åŠ¡æœ‰æ˜ç¡®çš„éªŒè¯æ ‡å‡†
- é¿å…è·¨æ–‡ä»¶çš„å¤æ‚ä¿®æ”¹

---

### Phase 3: æ‰§è¡Œå®æ–½

#### 3.1 ä½¿ç”¨ Git Worktreeï¼ˆå¯é€‰ï¼‰
```bash
# å¯¹äºå¤§å‹åŠŸèƒ½ï¼Œä½¿ç”¨ worktree éš”ç¦»
git worktree add ../feature-branch feature-name
cd ../feature-branch
```

#### 3.2 æ‰§è¡Œè®¡åˆ’
- ä½¿ç”¨ **executing-plans skill**
- æŒ‰ Batch æ‰§è¡Œï¼ˆæ¯ Batch 3 ä¸ªä»»åŠ¡ï¼‰
- æ¯ä¸ª Batch åæŠ¥å‘Šè¿›åº¦

#### 3.3 éªŒè¯æ ‡å‡†
- âœ… ä»£ç é€šè¿‡ lint æ£€æŸ¥
- âœ… æµ‹è¯•å…¨éƒ¨é€šè¿‡
- âœ… åŠŸèƒ½æ‰‹åŠ¨éªŒè¯é€šè¿‡

---

### Phase 4: å®Œæˆäº¤ä»˜

#### 4.1 ä»£ç å®¡æŸ¥
- ä½¿ç”¨ **requesting-code-review skill**
- æ£€æŸ¥ä»£ç è´¨é‡ã€å®‰å…¨æ€§ã€æ€§èƒ½

#### 4.2 æ–‡æ¡£æ›´æ–°
- æ›´æ–° `CHANGELOG.md`
- æ›´æ–° `docs/CONTEXT.md`
- åˆ›å»ºç‰ˆæœ¬æ€»ç»“ï¼ˆå¦‚éœ€è¦ï¼‰

#### 4.3 æäº¤ä»£ç 
```bash
git add .
git commit -m "<type>(<scope>): <subject>

<body>

Generated with [Claude Code](https://claude.ai/code)
via [Happy](https://happy.engineering)

Co-Authored-By: Claude <noreply@anthropic.com>
Co-Authored-By: Happy <yesreply@happy.engineering>"
```

#### 4.4 ç‰ˆæœ¬å½’æ¡£
- åˆ›å»º `docs/archive/v<version>/` ç›®å½•
- å½’æ¡£æ‰€æœ‰è§„åˆ’å’Œè®¾è®¡æ–‡æ¡£
- åˆ›å»º `VERSION_SUMMARY.md`

---

## ğŸ§ª æµ‹è¯•é©±åŠ¨å¼€å‘ (TDD)

### æµ‹è¯•ä¼˜å…ˆåŸåˆ™

#### Step 1: å…ˆå†™æµ‹è¯•
```python
def test_new_feature():
    # å‡†å¤‡æµ‹è¯•æ•°æ®
    # æ‰§è¡ŒåŠŸèƒ½
    # éªŒè¯ç»“æœ
    pass
```

#### Step 2: è¿è¡Œæµ‹è¯•ï¼ˆåº”è¯¥å¤±è´¥ï¼‰
```bash
pytest tests/unit/test_new_feature.py -v
# åº”è¯¥çœ‹åˆ° FAILED
```

#### Step 3: ç¼–å†™æœ€å°å®ç°
```python
def new_feature():
    # æœ€å°åŒ–å®ç°ï¼Œè®©æµ‹è¯•é€šè¿‡
    pass
```

#### Step 4: è¿è¡Œæµ‹è¯•ï¼ˆåº”è¯¥é€šè¿‡ï¼‰
```bash
pytest tests/unit/test_new_feature.py -v
# åº”è¯¥çœ‹åˆ° PASSED
```

#### Step 5: é‡æ„ä¼˜åŒ–
- ä¼˜åŒ–ä»£ç ç»“æ„
- ç¡®ä¿æµ‹è¯•ä»ç„¶é€šè¿‡

---

## ğŸ“Š æµ‹è¯•ç­–ç•¥

### æµ‹è¯•é‡‘å­—å¡”

```
        E2E (å°‘é‡ï¼Œæ…¢)
       /              \
    é›†æˆ (é€‚é‡ï¼Œä¸­é€Ÿ)
   /                    \
å•å…ƒ (å¤§é‡ï¼Œå¿«é€Ÿ)
```

### å•å…ƒæµ‹è¯•
- **ç›®æ ‡**: æµ‹è¯•å•ä¸ªå‡½æ•°/ç±»
- **é€Ÿåº¦**: < 1 ç§’/æµ‹è¯•
- **æ•°é‡**: æœ€å¤š
- **å·¥å…·**: pytest + unittest.mock

### é›†æˆæµ‹è¯•
- **ç›®æ ‡**: æµ‹è¯•å¤šä¸ªç»„ä»¶åä½œ
- **é€Ÿåº¦**: 1-5 ç§’/æµ‹è¯•
- **æ•°é‡**: é€‚ä¸­
- **å·¥å…·**: pytest + fixtures

### E2E æµ‹è¯•
- **ç›®æ ‡**: æµ‹è¯•å®Œæ•´ç”¨æˆ·æµç¨‹
- **é€Ÿåº¦**: 5-30 ç§’/æµ‹è¯•
- **æ•°é‡**: æœ€å°‘
- **å·¥å…·**: pytest + freezegun

---

## ğŸ› ç³»ç»ŸåŒ–è°ƒè¯•æµç¨‹

### Step 1: ç³»ç»Ÿåˆ†æï¼ˆ15-20 åˆ†é’Ÿï¼‰
- [ ] ç¨³å®šå¤ç°é—®é¢˜
- [ ] æ”¶é›†å®Œæ•´é”™è¯¯æ—¥å¿—
- [ ] ç»˜åˆ¶æ•°æ®æµå›¾/è°ƒç”¨é“¾
- [ ] è¯†åˆ«æ‰€æœ‰ç›¸å…³ç»„ä»¶
- [ ] åˆ—å‡ºæ‰€æœ‰å‡è®¾ï¼ˆæŒ‰å¯èƒ½æ€§æ’åºï¼‰

### Step 2: å®šä½æ ¹å› ï¼ˆ10-15 åˆ†é’Ÿï¼‰
- **äºŒåˆ†æ³•**: æ³¨é‡Šæ‰ä¸€åŠä»£ç ï¼Œçœ‹é—®é¢˜æ˜¯å¦æ¶ˆå¤±
- **æ—¥å¿—è¿½è¸ª**: åœ¨å…³é”®ç‚¹æ·»åŠ ç»“æ„åŒ–æ—¥å¿—
- **æ–­ç‚¹è°ƒè¯•**: ä½¿ç”¨ IDE æ–­ç‚¹
- **éªŒè¯å‡è®¾**: é€ä¸€éªŒè¯æ¯ä¸ªå‡è®¾ï¼Œæ’é™¤æ³•

### Step 3: æœ€å°åŒ–ä¿®æ”¹ï¼ˆ5-10 åˆ†é’Ÿï¼‰
- âœ… **æ¯æ¬¡åªä¿®æ”¹ä¸€ä¸ªåœ°æ–¹**
- âœ… **ç«‹å³éªŒè¯ä¿®æ”¹æ•ˆæœ**
- âœ… **ä¿®æ”¹å¤±è´¥ç«‹å³å›æ»š**
- âŒ **ç¦æ­¢åŒæ—¶ä¿®æ”¹å¤šä¸ªæ–‡ä»¶**

### Step 4: å®Œæ•´æµ‹è¯•ï¼ˆ10 åˆ†é’Ÿï¼‰
- [ ] åŠŸèƒ½æµ‹è¯•ï¼šæ­£å¸¸æµç¨‹
- [ ] è¾¹ç•Œæµ‹è¯•ï¼šç©ºå€¼ã€å¼‚å¸¸å€¼
- [ ] å›½é™…åŒ–æµ‹è¯•ï¼ˆå¦‚é€‚ç”¨ï¼‰
- [ ] å›å½’æµ‹è¯•ï¼šç¡®ä¿ä¸å½±å“å…¶ä»–åŠŸèƒ½

### âš ï¸ è­¦ç¤ºä¿¡å·
- èŠ±è´¹æ—¶é—´è¶…è¿‡é¢„ä¼° **2 å€** â†’ æš‚åœï¼Œé‡æ–°åˆ†æ
- å°è¯•äº† **3+ ä¸ªæ–¹å‘**ä»æœªè§£å†³ â†’ å›æ»šæ‰€æœ‰ä¿®æ”¹
- ä¿®æ”¹å¯¼è‡´ **æ–°é—®é¢˜** â†’ ç«‹å³å›æ»š

---

## ğŸ“ æäº¤è§„èŒƒ

### Commit ç±»å‹

| ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `feat` | æ–°åŠŸèƒ½ | feat: æ·»åŠ ç¦»çº¿æˆæƒåŠŸèƒ½ |
| `fix` | Bug ä¿®å¤ | fix: ä¿®å¤æ¿€æ´»çŠ¶æ€ä¸¢å¤± |
| `docs` | æ–‡æ¡£æ›´æ–° | docs: æ›´æ–° CHANGELOG |
| `style` | ä»£ç æ ¼å¼ | style: æ ¼å¼åŒ–ä»£ç  |
| `refactor` | é‡æ„ | refactor: ä¼˜åŒ–æˆæƒé€»è¾‘ |
| `test` | æµ‹è¯• | test: æ·»åŠ å•å…ƒæµ‹è¯• |
| `chore` | æ„å»º/å·¥å…· | chore: æ›´æ–°ä¾èµ– |
| `perf` | æ€§èƒ½ä¼˜åŒ– | perf: ä¼˜åŒ–ä¸‹è½½é€Ÿåº¦ |

### Commit æ¶ˆæ¯æ¨¡æ¿

```bash
<type>(<scope>): <subject>

<body>

<footer>

Generated with [Claude Code](https://claude.ai/code)
via [Happy](https://happy.engineering)

Co-Authored-By: Claude <noreply@anthropic.com>
Co-Authored-By: Happy <yesreply@happy.engineering>
```

### ç¤ºä¾‹

```bash
feat(auth): æ·»åŠ ç¦»çº¿æˆæƒéªŒè¯åŠŸèƒ½

- å®ç°ç¦»çº¿ Token éªŒè¯
- æ·»åŠ æœ¬åœ°ç¼“å­˜ç®¡ç†
- æ”¯æŒäº‘ç«¯é™çº§ç­–ç•¥

Closes #123

Generated with [Claude Code](https://claude.ai/code)
via [Happy](https://happy.engineering)

Co-Authored-By: Claude <noreply@anthropic.com>
Co-Authored-By: Happy <yesreply@happy.engineering>
```

---

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

### Git æ“ä½œ

```bash
# æŸ¥çœ‹çŠ¶æ€
git status

# æŸ¥çœ‹å­æ¨¡å—çŠ¶æ€
git submodule status

# æ›´æ–°å­æ¨¡å—
git submodule update --remote

# æäº¤å­æ¨¡å—å˜æ›´
cd app
git add .
git commit -m "xxx"
git push
cd ..
git add app
git commit -m "chore: æ›´æ–° app submodule - xxx"
```

### æµ‹è¯•æ“ä½œ

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
cd app
pytest tests/ -v

# è¿è¡Œå•å…ƒæµ‹è¯•
pytest tests/unit/ -v

# è¿è¡Œé›†æˆæµ‹è¯•
pytest tests/integration/ -v

# è¿è¡Œ E2E æµ‹è¯•
pytest tests/e2e/ -v

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
pytest tests/unit/test_offline_activation.py -v

# æŸ¥çœ‹è¦†ç›–ç‡
pytest --cov=server --cov-report=html tests/

# æŸ¥çœ‹è¦†ç›–ç‡æŠ¥å‘Š
open htmlcov/index.html
```

### ä»£ç è´¨é‡

```bash
# Python ä»£ç æ ¼å¼åŒ–
black app/

# Python lint æ£€æŸ¥
pylint app/

# ç±»å‹æ£€æŸ¥
mypy app/
```

---

## ğŸ“¦ ç‰ˆæœ¬å‘å¸ƒæµç¨‹

### å‘å¸ƒå‰æ£€æŸ¥æ¸…å•

- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] ä»£ç è¦†ç›–ç‡è¾¾æ ‡
- [ ] CHANGELOG æ›´æ–°
- [ ] æ–‡æ¡£æ›´æ–°
- [ ] ç‰ˆæœ¬å·æ›´æ–°ï¼ˆpackage.json, __init__.pyï¼‰

### å‘å¸ƒæ­¥éª¤

1. **åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾**
```bash
git tag -a v1.3.8 -m "Release v1.3.8"
git push origin v1.3.8
```

2. **åˆ›å»º GitHub Release**
- æ ‡é¢˜: `v1.3.8 - ç¦»çº¿æˆæƒä¿®å¤`
- å†…å®¹: ä» CHANGELOG å¤åˆ¶

3. **å½’æ¡£æ–‡æ¡£**
```bash
mkdir -p docs/archive/v1.3.8
cp docs/plans/*.md docs/archive/v1.3.8/
```

4. **åˆ›å»ºç‰ˆæœ¬æ€»ç»“**
- æ–‡ä»¶: `docs/archive/v1.3.8/VERSION_SUMMARY.md`
- å†…å®¹: å®Œæˆçš„å·¥ä½œã€æœªå®Œæˆçš„å·¥ä½œã€ä¸‹ä¸€æ­¥è®¡åˆ’

---

## ğŸ¯ è´¨é‡æ ‡å‡†

### ä»£ç è´¨é‡
- âœ… æ—  lint é”™è¯¯
- âœ… ç±»å‹æç¤ºå®Œæ•´
- âœ… æ³¨é‡Šæ¸…æ™°
- âœ… éµå¾ª PEP 8 è§„èŒƒ

### æµ‹è¯•è´¨é‡
- âœ… å•å…ƒæµ‹è¯•è¦†ç›–æ ¸å¿ƒé€»è¾‘
- âœ… é›†æˆæµ‹è¯•è¦†ç›–å…³é”®æµç¨‹
- âœ… E2E æµ‹è¯•è¦†ç›–ç”¨æˆ·åœºæ™¯
- âœ… æµ‹è¯•é€šè¿‡ç‡ â‰¥ 90%

### æ–‡æ¡£è´¨é‡
- âœ… README æ¸…æ™°
- âœ… CHANGELOG å®Œæ•´
- âœ… ä»£ç æ³¨é‡Šå……åˆ†
- âœ… è®¾è®¡æ–‡æ¡£è¯¦ç»†

---

## ğŸ“š å‚è€ƒèµ„æº

### é¡¹ç›®æ–‡æ¡£
- `docs/CONTEXT.md` - é¡¹ç›®ä¸Šä¸‹æ–‡
- `CHANGELOG.md` - ç‰ˆæœ¬å†å²
- `README.md` - é¡¹ç›®è¯´æ˜

### å¼€å‘å·¥å…·
- Claude Code Skills
  - `brainstorming` - éœ€æ±‚æ¾„æ¸…
  - `writing-plans` - å®æ–½è®¡åˆ’
  - `executing-plans` - æ‰§è¡Œè®¡åˆ’
  - `requesting-code-review` - ä»£ç å®¡æŸ¥
  - `systematic-debugging` - ç³»ç»ŸåŒ–è°ƒè¯•

### å¤–éƒ¨èµ„æº
- [Keep a Changelog](https://keepachangelog.com/)
- [Semantic Versioning](https://semver.org/)
- [Conventional Commits](https://www.conventionalcommits.org/)
- [PEP 8](https://pep8.org/)

---

**æ–‡æ¡£ç»´æŠ¤**: æ¯æ¬¡æµç¨‹æ”¹è¿›åæ›´æ–°
**ä¸‹æ¬¡æ›´æ–°**: å‘ç°æ›´å¥½çš„å®è·µæ—¶
