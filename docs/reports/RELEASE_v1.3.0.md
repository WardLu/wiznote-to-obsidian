# 🎉 版本发布：v1.3.0

**发布日期**：2026-02-22
**版本类型**：功能更新 (Feature Release)

---

## 📦 版本信息

### 主仓库
- **版本号**：v1.3.0
- **提交数**：1 个（新增）
- **标签**：`v1.3.0`
- **远程仓库**：https://github.com/WardLu/wiznote-to-obsidian

### 子模块 (app/ → shadow-shift)
- **版本号**：v1.2.0
- **提交数**：1 个（新增）
- **标签**：`v1.2.0`
- **远程仓库**：https://github.com/WardLu/shadow-shift (Private)

---

## ✨ 主要功能

### 1. GUI 格式化笔记按钮 ✅

**功能描述**：
- 为小白用户提供一键格式化功能
- 无需使用命令行工具
- 实时显示格式化进度和日志
- 完成后弹窗提示输出目录

**实现方式**：
- 使用 `subprocess.Popen` 调用 `tools/obsidian_formatter.py`
- 实时输出命令日志到 GUI
- 后台线程执行，不阻塞 UI

**效果**：
```
点击「📝 格式化笔记」→ 日志实时显示格式化进度
                    → 完成后弹窗提示："笔记格式化完成！输出目录：~/wiznote_obsidian/"
```

---

### 2. GUI 迁移附件按钮 ✅

**功能描述**：
- 为小白用户提供一键附件迁移功能
- 附件复制到 `attachments/` 目录
- 实时显示迁移进度
- 完成后弹窗提示输出目录

**实现方式**：
- 调用 `tools/obsidian_formatter.py --migrate-attachments`
- 实时输出命令日志
- 后台线程执行

**效果**：
```
点击「📎 迁移附件」→ 日志实时显示迁移进度
                  → 完成后弹窗提示："附件迁移完成！输出目录：~/wiznote_obsidian/attachments/"
```

---

### 3. 购买授权信息卡片 ✅

**功能描述**：
- 在授权面板下方显示购买信息
- 显示价格和联系方式
- 方便用户直接联系购买授权码
- 实现商业化闭环

**界面效果**：
```
┌─────────────────────────────────┐
│  授权状态                        │
│  ⚠️ 未激活（免费额度: 8/10）     │
│  ┌───────────────────────────┐  │
│  │ 输入授权码 W2O-XXXX...    │  │
│  └───────────────────────────┘  │
│  [激活]                         │
├─────────────────────────────────┤
│  💳 购买授权                     │  ← 浅蓝色背景卡片
│  ¥49.00 / 30天                  │  ← 红色价格，醒目
│  微信：WardLuDev                │  ← 联系方式
│  邮件：wardlu@example.com        │
└─────────────────────────────────┘
```

**设计特点**：
- 浅蓝色背景，与主界面区分
- 红色价格，视觉突出
- 紧凑布局，不影响整体界面

---

## 🎨 UI/UX 改进

### 工具按钮布局

**设计特点**：
- 格式化和附件迁移按钮并排显示
- 紧凑布局，不影响整体界面
- 灰色背景与主按钮区分
- 执行中显示动态状态

**视觉效果**：
```
┌─────────────────────────────────┐
│  📥 下载笔记                    │  ← 主按钮（蓝色）
├─────────────────────────────────┤
│  📝 格式化笔记  │  📎 迁移附件  │  ← 并排按钮（灰色）
└─────────────────────────────────┘
```

**完整界面布局**：
```
┌─────────────────────────────────┐
│            📝                   │
│  为知笔记 → Obsidian 迁移工具   │
├─────────────────────────────────┤
│  为知笔记登录                    │
│  ┌───────────────────────────┐  │
│  │ 手机号/邮箱                │  │
│  └───────────────────────────┘  │
│  ┌───────────────────────────┐  │
│  │ 密码                       │  │
│  └───────────────────────────┘  │
├─────────────────────────────────┤
│  授权状态                        │
│  ⚠️ 未激活（免费额度: 8/10）     │
│  ┌───────────────────────────┐  │
│  │ 输入授权码                 │  │
│  └───────────────────────────┘  │
│  [激活]                         │
│  ┌───────────────────────────┐  │
│  │ 💳 购买授权                │  │  ← 新增购买信息卡片
│  │ ¥49.00 / 30天             │  │
│  │ 微信：WardLuDev           │  │
│  └───────────────────────────┘  │
├─────────────────────────────────┤
│  📥 下载笔记                    │
│  📝 格式化  │  📎 迁移附件      │
├─────────────────────────────────┤
│  下载进度                        │
│  ████████░░░░░░░░ 40%           │
├─────────────────────────────────┤
│  操作日志                        │
│  ...                            │
└─────────────────────────────────┘
```

### 文案优化

**更准确的术语**：
- 「🚀 一键迁移」→「📥 下载笔记」
  - **原因**：第一个按钮实际只负责下载，不包含格式化
  - **效果**：用户更清楚每个按钮的功能
- 「迁移进度」→「下载进度」
  - 与按钮文案保持一致
- 「为知笔记 → Obsidian 一键迁移」→「为知笔记 → Obsidian 迁移工具」
  - 更专业的工具名称

---

## 🚀 使用方式

### 完整迁移流程（小白用户友好）

1. **第一步**：输入为知笔记账号密码
2. **第二步**：点击「📥 下载笔记」
   - 下载所有笔记到 `~/wiznote_download/`
3. **第三步**：点击「📝 格式化笔记」
   - 格式化为 Obsidian 兼容格式
   - 输出到 `~/wiznote_obsidian/`
4. **第四步**：点击「📎 迁移附件」
   - 复制附件到 `~/wiznote_obsidian/attachments/`
5. **第五步**：点击「📂 打开目录」
   - 在 Obsidian 中打开 `~/wiznote_obsidian/`

**全程无需使用命令行！**

---

## 🐛 Bug 修复

### 无新增 Bug 修复

本次更新主要新增功能，无 Bug 修复。

---

## 📊 项目统计

### 代码变更

| 类别 | 数量 |
|-----|------|
| 主仓库提交 | 1 个（新增） |
| 子模块提交 | 1 个（新增） |
| 修改文件 | 2 个核心文件 |
| 新增文件 | 1 个文档文件 |
| 代码行数（新增/修改） | ~150 行 |

### 文件修改详情

| 文件 | 修改内容 |
|-----|------------|
| `app/src/gui/app.py` | 新增格式化和附件迁移按钮、购买信息卡片、subprocess 调用 |
| `CHANGELOG.md` | 添加 v1.3.0 更新内容 |
| `app/CHANGELOG.md` | 添加 v1.2.0 更新内容 |
| `RELEASE_v1.3.0.md` | 新增版本发布文档 |

---

## 📝 文档更新

### 新增文档

- ✅ **RELEASE_v1.3.0.md** - v1.3.0 版本发布文档

### 更新文档

- 📝 **CHANGELOG.md** - 添加 v1.3.0 更新内容
- 📝 **app/CHANGELOG.md** - 添加 v1.2.0 更新内容

---

## 🎯 下一步计划

### v1.3.1 (计划中)
- [ ] 添加格式化进度条（目前只有日志）
- [ ] 添加附件迁移进度条
- [ ] 统计信息（格式化笔记数量、附件数量）

### v1.4.0 (未来)
- [ ] 自定义输出目录
- [ ] 选择性格式化（只格式化特定文件夹）
- [ ] 批量账号管理

### v2.0.0 (未来)
- [ ] 支持 Windows 和 Linux
- [ ] 云端同步
- [ ] 自定义转换规则

---

## 📞 反馈与支持

### 问题反馈
- **GitHub Issues**: https://github.com/WardLu/wiznote-to-obsidian/issues
- **私有仓库**: https://github.com/WardLu/shadow-shift (需要权限)

### 技术支持
- 查看 `README.md` 获取使用说明
- 查看 `ARCHITECTURE.md` 了解架构设计
- 查看 `CHANGELOG.md` 了解更新历史

---

## 🙏 致谢

感谢所有参与测试和反馈的用户！

特别感谢小白用户的反馈，让我们意识到 GUI 集成格式化功能的重要性。

---

**发布时间**：2026-02-22 01:40:00
**发布人**：Claude + WardLu
**版本状态**：✅ 稳定版本，可正常使用
